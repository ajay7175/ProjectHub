(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={auth:"AuthForm_auth__3Fx77",control:"AuthForm_control__1GVJ0",actions:"AuthForm_actions__MnAK8",toggle:"AuthForm_toggle__2h-Pk"}},function(e,t,n){e.exports={header:"AddProject_header__2lfnU",box:"AddProject_box__1SSHG",actions:"AddProject_actions__1yeDZ",toggle:"AddProject_toggle__uIw7Y"}},,,function(e,t,n){e.exports={modal:"FileUpload_modal__3yCmf",header:"FileUpload_header__3RSZg",backdrop:"FileUpload_backdrop__2qfzM"}},function(e,t,n){e.exports={card:"ListItem_card__3jm2S",cardHeader:"ListItem_cardHeader__mzLi6",btn:"ListItem_btn__2hE6k"}},,,function(e,t,n){e.exports={container:"User_container__3CyXb"}},function(e,t,n){e.exports={projectslist:"ProjectList_projectslist__3V6UM"}},function(e,t,n){e.exports={container:"Projects_container__YnXMK"}},,function(e,t,n){e.exports={row:"InfoRow_row__f0F_x"}},function(e,t,n){},function(e,t,n){e.exports={header:"MainHeader_header__2c4hJ"}},,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(10),c=n.n(r),o=n(7),s=(n(26),n(2)),a=n(0),i=function(){return Object(a.jsx)("h1",{children:"The Welcome Page"})},l=n(3),j=n(4),d=n.n(j),u=n(6),h=n(1),b=n.n(h),p=n(12),f=n.n(p),x=b.a.createContext({token:"",isLoggedIn:!1,login:function(e){},logout:function(){}}),m=function(e){var t=Object(h.useState)(null),n=Object(l.a)(t,2),r=n[0],c=n[1],o={token:r,isLoggedIn:!!r,login:function(e){c(e)},logout:function(){c(null)}};return Object(a.jsx)(x.Provider,{value:o,children:e.children})},O=x,g=function(e){return Object(a.jsx)("div",{className:f.a.backdrop,onClick:e.onConfirm})},v=function(e){var t=Object(h.useContext)(O);console.log(e.projId);var n=Object(h.useState)(null),r=Object(l.a)(n,2),c=r[0],o=r[1],s=function(){var n=Object(u.a)(d.a.mark((function n(r){var o,s,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),console.log(c),(o=new FormData).append("file",c),n.prev=4,n.next=7,fetch("https://projecthut.herokuapp.com"+"/projects/".concat(e.projId,"/file"),{method:"POST",headers:{Authorization:"Bearer ".concat(t.token)},body:o,redirect:"follow"});case 7:return s=n.sent,console.log(s),n.next=11,s.json();case 11:if(a=n.sent,console.log("from file upload"),console.log(a),!a.error){n.next=16;break}throw new Error;case 16:n.next=22;break;case 18:n.prev=18,n.t0=n.catch(4),console.log(n.t0),console.log("file bs");case 22:e.onConfirm();case 23:case"end":return n.stop()}}),n,null,[[4,18]])})));return function(e){return n.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:f.a.modal,children:[Object(a.jsx)("div",{className:f.a.header,children:Object(a.jsx)("h2",{children:"Upload File"})}),Object(a.jsxs)("form",{encType:"multipart/form-data",onSubmit:s,children:[Object(a.jsx)("input",{type:"file",onChange:function(e){o(e.target.files[0])}}),Object(a.jsx)("button",{onClick:s,children:"Upload"})]})]})};function w(e){return e.ready?Object(a.jsxs)(a.Fragment,{children:[c.a.createPortal(Object(a.jsx)(g,{onConfirm:e.onConfirm}),document.getElementById("backdrop-root")),c.a.createPortal(Object(a.jsx)(v,{onConfirm:e.onConfirm,projId:e.projId}),document.getElementById("overlay-root"))]}):null}var _=n(13),k=n.n(_),y=function(e){var t=Object(h.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],o=Object(h.useContext)(O),s=function(){var t=Object(u.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("button"!==n.target.tagName.toLowerCase()){t.next=3;break}return console.log("upload"),t.abrupt("return");case 3:return console.log(e.id),t.prev=4,t.next=7,fetch("https://projecthut.herokuapp.com"+"/projects/".concat(e.id,"/file"),{method:"GET",headers:{Authorization:"Bearer ".concat(o.token)}});case 7:return r=t.sent,console.log(r),t.next=11,r.json();case 11:if(c=t.sent,console.log("from get file"),console.log(c),!c.error){t.next=16;break}throw new Error;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(4),console.log(t.t0),console.log("old file bs");case 22:case"end":return t.stop()}}),t,null,[[4,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{ready:r,projId:e.id,onConfirm:function(){c(!1)}}),Object(a.jsxs)("div",{onClick:s,className:k.a.card,children:[Object(a.jsxs)("header",{className:k.a.cardHeader,children:[Object(a.jsx)("p",{children:e.date}),Object(a.jsx)("h2",{children:e.title})]}),Object(a.jsx)("p",{children:e.description}),Object(a.jsxs)("h4",{children:["completed: ",e.completed]}),e.show&&Object(a.jsx)("button",{className:k.a.btn,onClick:function(){console.log("ready to upload"),c(!0)},children:"Upload file"})]})]})},P=n(17),C=n.n(P),N=function(e){var t=e.items,n=Object(h.useState)(""),r=Object(l.a)(n,2),c=r[0],o=r[1],s=function(e,t){return e?t.filter((function(t){return t.title.toLowerCase().includes(e)})):t}(c,t);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{type:"text",onChange:function(e){return o(e.target.value)},placeholder:"Search for a Project ..."}),Object(a.jsx)("ul",{className:C.a.projectslist,children:s.map((function(t){return Object(a.jsx)(y,{id:t._id,title:t.title,description:t.description,date:t.createdAt,completed:t.completed?"Complete":"In-Progress",show:e.show},t._id)}))})]})},S=n(18),T=n.n(S),A=function(){var e=Object(h.useContext)(O);Object(h.useEffect)((function(){var t=function(){var t=Object(u.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://projecthut.herokuapp.com/allProjects",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}});case 3:return n=t.sent,t.next=6,n.json();case 6:if(r=t.sent,console.log("from AllProjects"),console.log(r),!r.error){t.next=11;break}throw new Error;case 11:c(r),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),c([{id:0,title:"No Projects to show ",description:"We had Some problem trying to fetch your projects from The server Please wait for a few Momnents and try again",completed:"false"}]),console.log("damn");case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var t=Object(h.useState)([{id:1,title:"Project 1",description:"This is the description for the first Project",completed:"true"},{id:2,title:"Second Project",description:"yet another description for the second Project",completed:"false"},{id:3,title:"The Third Project",description:"yet another description for the second Project",completed:"false"}]),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:T.a.container,children:Object(a.jsx)(N,{items:r,show:!1})})})},F=function(){return Object(a.jsxs)("section",{children:[Object(a.jsx)("h1",{children:"The Gallery Page"}),Object(a.jsx)(A,{})]})},I=n(8),E=n.n(I),L="https://projecthut.herokuapp.com",B=function(){var e=Object(s.f)(),t=Object(h.useRef)(),n=Object(h.useRef)(),r=Object(h.useRef)(),c=Object(h.useContext)(O),o=Object(h.useState)(!0),i=Object(l.a)(o,2),j=i[0],b=i[1],p=function(){var o=Object(u.a)(d.a.mark((function o(s){var a,i,l,u,h,b,p;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(s.preventDefault(),a=n.current.value,i=r.current.value,o.prev=3,!j){o.next=16;break}return o.next=7,fetch(L+"/users/login",{method:"POST",body:JSON.stringify({email:a,password:i}),headers:{"Content-Type":"application/json"}});case 7:return l=o.sent,o.next=10,l.json();case 10:u=o.sent,console.log(u),c.login(u.token),e("/gallery"),o.next=26;break;case 16:return h=t.current.value,o.next=19,fetch(L+"/users",{method:"POST",body:JSON.stringify({email:a,name:h,password:i}),headers:{"Content-Type":"application/json"}});case 19:return b=o.sent,o.next=22,b.json();case 22:p=o.sent,console.log(p),c.login(p.token),e("/welcome");case 26:o.next=31;break;case 28:o.prev=28,o.t0=o.catch(3),console.log(o.t0);case 31:case"end":return o.stop()}}),o,null,[[3,28]])})));return function(e){return o.apply(this,arguments)}}();return Object(a.jsxs)("section",{className:E.a.auth,children:[Object(a.jsx)("h1",{children:j?"Login":"Sign Up"}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:E.a.control,children:[Object(a.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(a.jsx)("input",{type:"email",id:"email",required:!0,ref:n})]}),!j&&Object(a.jsxs)("div",{className:E.a.control,children:[Object(a.jsx)("label",{htmlFor:"name",children:"Your Name"}),Object(a.jsx)("input",{type:"text",id:"name",required:!0,ref:t})]}),Object(a.jsxs)("div",{className:E.a.control,children:[Object(a.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(a.jsx)("input",{type:"password",id:"password",required:!0,ref:r})]}),Object(a.jsxs)("div",{className:E.a.actions,children:[Object(a.jsx)("button",{onClick:p,children:j?"Login":"Create Account"}),Object(a.jsx)("button",{type:"button",className:E.a.toggle,onClick:function(){b((function(e){return!e}))},children:j?"Create new account":"Login with existing account"})]})]})]})},U=function(){return Object(a.jsx)(B,{})},z=n(19),G=n(20),R=n.n(G),J=function(e){return Object(a.jsxs)("div",{className:R.a.row,children:[Object(a.jsxs)("label",{children:[e.label,": "]}),Object(a.jsx)("p",{children:e.info})]})},M=n(21),D=n.n(M),H=function(e){return Object(a.jsxs)("div",{className:D.a.container,children:[Object(a.jsx)(J,{label:"Name",info:e.name}),Object(a.jsx)(J,{label:"email",info:e.email}),Object(a.jsx)(J,{label:"age",info:e.age}),Object(a.jsx)(J,{label:"joined",info:e.joined})]})},Y=n(16),q=n.n(Y),W=n(9),K=n.n(W),V=function(){var e=Object(h.useContext)(O),t=Object(h.useRef)(),n=Object(h.useRef)(),r=Object(h.useRef)(),c=function(){var c=Object(u.a)(d.a.mark((function c(o){var s,a,i,l,j;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o.preventDefault(),s=t.current.value,a=n.current.value,i=r.current.value,c.prev=4,c.next=7,fetch("https://projecthut.herokuapp.com/projects",{method:"POST",body:JSON.stringify({title:s,description:a,status:i}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}});case 7:return l=c.sent,c.next=10,l.json();case 10:j=c.sent,console.log("From Adding new project"),console.log(j),c.next=18;break;case 15:c.prev=15,c.t0=c.catch(4),console.log(c.t0);case 18:case"end":return c.stop()}}),c,null,[[4,15]])})));return function(e){return c.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Add a new Project"}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:K.a.box,children:[Object(a.jsx)("label",{for:"title",children:"Title"}),Object(a.jsx)("input",{id:"title",name:"title",ref:t})]}),Object(a.jsxs)("div",{className:K.a.box,children:[Object(a.jsx)("label",{for:"description",children:"Description"}),Object(a.jsx)("textarea",{cols:"21",name:"description",ref:n})]}),Object(a.jsxs)("div",{className:K.a.box,children:[Object(a.jsx)("label",{for:"completed",children:"status"}),Object(a.jsx)("input",{id:"status",name:"status",ref:r})]}),Object(a.jsx)("div",{className:K.a.actions,children:Object(a.jsx)("button",{className:K.a.submitBtn,onClick:c,children:"Add Project"})})]})]})},X="https://projecthut.herokuapp.com",Z=function(){var e=Object(h.useContext)(O),t=Object(h.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1];Object(h.useEffect)((function(){var t=function(){var t=Object(u.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(X+"/users/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}});case 3:return n=t.sent,t.next=6,n.json();case 6:if(r=t.sent,console.log("from user"),console.log(r),!r.error){t.next=11;break}throw new Error;case 11:j(r),c(!0),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0),j({id:1,name:"Source Code",email:"source@gmail.com",age:404,joined:"25th nov 6969"}),c(!1),console.log("damn");case 21:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(u.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(X+"/projects",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}});case 3:return n=t.sent,t.next=6,n.json();case 6:if(r=t.sent,console.log("from projects"),console.log(r),!r.error){t.next=11;break}throw new Error;case 11:x(r),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),x([{id:0,title:"No Projects to show ",description:"We had Some problem trying to fetch your projects from The server Please wait for a few Momnents and try again",completed:"false"}]),c(!1),console.log("damn");case 20:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}();t(),n()}),[]);var o=Object(h.useState)(),s=Object(l.a)(o,2),i=s[0],j=s[1],b=Object(h.useState)([{id:4,title:"Project 1",description:"This is the description for the first Project",completed:"true"},{id:5,title:"Second Project",description:"yet another description for the second Project",completed:"false"},{id:6,title:"The Third Project",description:"yet another description for the second Project",completed:"false"}]),p=Object(l.a)(b,2),f=p[0],x=p[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:q.a.showBox,children:r&&Object(a.jsx)(H,Object(z.a)({name:i.name,email:i.email,age:i.age,joined:i.createdAt},"name",i.name))}),Object(a.jsx)("div",{className:q.a.container,children:Object(a.jsx)(N,{items:f,show:!0})}),Object(a.jsx)(V,{})]})},Q=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"The Profile Page"}),Object(a.jsx)(Z,{})]})},$=n(15),ee=n(22),te=n.n(ee),ne=function(){var e=Object(h.useContext)(O).isLoggedIn;return Object(a.jsx)("header",{className:te.a.header,children:Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{children:[!e&&Object(a.jsx)("li",{children:Object(a.jsx)(o.b,{to:"/login",children:"Login / Signup"})}),Object(a.jsx)("li",{children:Object(a.jsx)(o.b,{to:"/welcome",children:"Welcome"})}),e&&Object(a.jsx)("li",{children:Object(a.jsx)(o.b,{to:"/gallery",children:"Gallery"})}),e&&Object(a.jsx)("li",{children:Object(a.jsx)(o.b,{to:"/profile",children:"Profile"})}),e&&Object(a.jsx)("li",{children:Object(a.jsx)(o.b,{to:"/signout",children:"Signout"})})]})})})},re=function(e){return Object(a.jsxs)($.Fragment,{children:[Object(a.jsx)(ne,{}),Object(a.jsx)("main",{children:e.children})]})};var ce=function(){return Object(a.jsx)(re,{children:Object(a.jsxs)(s.c,{children:[Object(a.jsx)(s.a,{path:"/",element:Object(a.jsx)(U,{})}),Object(a.jsx)(s.a,{path:"/ProjectHut-front",element:Object(a.jsx)(U,{})}),Object(a.jsx)(s.a,{path:"/login",element:Object(a.jsx)(U,{})}),Object(a.jsx)(s.a,{path:"/welcome",element:Object(a.jsx)(i,{})}),Object(a.jsx)(s.a,{path:"/gallery",element:Object(a.jsx)(F,{})}),Object(a.jsx)(s.a,{path:"/profile",element:Object(a.jsx)(Q,{})})]})})};c.a.render(Object(a.jsx)(m,{children:Object(a.jsx)(o.a,{children:Object(a.jsx)(ce,{})})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.8aec7e9c.chunk.js.map